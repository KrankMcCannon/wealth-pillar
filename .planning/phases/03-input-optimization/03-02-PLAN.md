---
phase: 03-input-optimization
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [
  "src/components/ui/command.tsx",
  "src/components/ui/responsive-select.tsx",
  "src/components/form/category-select.tsx",
  "src/components/form/form-select.tsx"
]
autonomous: true
requirements: [3.2, 3.3]
must_haves:
  truths:
    - "CategorySelect and FormSelect use a searchable Command interface"
    - "Select components open in a Drawer on mobile"
  artifacts:
    - path: "src/components/ui/command.tsx"
      provides: "shadcn/ui Command component"
    - path: "src/components/ui/responsive-select.tsx"
      provides: "Responsive Select wrapper with search"
---

<objective>
Implement a standardized ResponsiveSelect pattern using shadcn/ui Command and refactor CategorySelect/FormSelect.
</objective>

<tasks>
<task type="auto">
  <name>Task 1: Create Command and ResponsiveSelect primitives</name>
  <files>src/components/ui/command.tsx, src/components/ui/responsive-select.tsx</files>
  <action>
    - Create `src/components/ui/command.tsx` (shadcn/ui CMDK wrapper).
    - Implement `src/components/ui/responsive-select.tsx` which uses `ResponsivePicker` (from Plan 01) to host a `Command` list.
    - Ensure accessibility (ARIA roles) and keyboard navigation.
  </action>
  <verify>Verify Command search logic and responsive behavior.</verify>
  <done>Select primitives are ready.</done>
</task>

<task type="auto">
  <name>Task 2: Refactor Select components</name>
  <files>src/components/form/category-select.tsx, src/components/form/form-select.tsx</files>
  <action>
    - Install `cmdk` dependency: `npm install cmdk`.
    - Refactor `CategorySelect` to use `ResponsiveSelect`.
    - Maintain recent category tracking and icon support.
    - Refactor `FormSelect` to use the same responsive pattern.
    - Align styles with Phase 1 standards (spacing, focus rings).
  </action>
  <verify>Verify search functionality and mobile drawer interaction for both components.</verify>
  <done>Select components are standardized.</done>
</task>
</tasks>

<verification>
Ensure `npm run build` passes. Verify search performance and mobile UX.
</verification>

<success_criteria>
Searchable selects are responsive and accessible on all devices.
</success_criteria>

<output>
After completion, create '.planning/phases/03-input-optimization/03-02-SUMMARY.md'
</output>
